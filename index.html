
<!DOCTYPE html>
<html>
<head>
  <title>Face Controlled Scroll</title>
  <style>
    body { margin: 0; font-family: sans-serif; }
    video { position: fixed; top: 0; left: 0; width: 200px; height: 150px; z-index: 1000; border: 2px solid red; }
    canvas { position: fixed; top: 0; left: 0; width: 200px; height: 150px; z-index: 1001; pointer-events:none; }
    .list-item { padding: 20px; border-bottom: 1px solid #ccc; }
  </style>
</head>
<body>

<video id="video" autoplay></video>
<canvas id="overlay" width="200" height="150"></canvas>

<div id="listContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
// Create a fake list
const listContainer = document.getElementById('listContainer');
for(let i=1;i<=100;i++){
  const div = document.createElement('div');
  div.className = 'list-item';
  div.textContent = `Item ${i}`;
  listContainer.appendChild(div);
}

// Webcam & canvas
const video = document.getElementById('video');
const canvas = document.getElementById('overlay');
const ctx = canvas.getContext('2d');

async function setupCamera() {
  const stream = await navigator.mediaDevices.getUserMedia({ video: true });
  video.srcObject = stream;
}

// Mediapipe FaceMesh
const faceMesh = new FaceMesh({locateFile: (file)=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`});
faceMesh.setOptions({
  maxNumFaces:1,
  refineLandmarks:true,
  minDetectionConfidence:0.5,
  minTrackingConfidence:0.5
});

// Draw dot on canvas
function drawDot(x,y){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.beginPath();
  ctx.arc(x, y, 6, 0, 2*Math.PI);
  ctx.fillStyle = 'red';
  ctx.fill();
}

faceMesh.onResults(results=>{
  if(results.multiFaceLandmarks && results.multiFaceLandmarks.length>0){
    const landmarks = results.multiFaceLandmarks[0];
    const nose = landmarks[1]; // nose tip
    const dotX = nose.x * canvas.width;
    const dotY = nose.y * canvas.height;
    drawDot(dotX,dotY);

    // Scroll page based on dot vertical position
    const scrollSpeed = 15;
    if(dotY < canvas.height*0.3){ // nose up → scroll up
      window.scrollBy(0,-scrollSpeed);
    } else if(dotY > canvas.height*0.7){ // nose down → scroll down
      window.scrollBy(0,scrollSpeed);
    }
  } else {
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }
});

// Start camera
setupCamera().then(()=>{
  const camera = new Camera(video,{
    onFrame: async()=>{await faceMesh.send({image:video});},
    width:200,
    height:150
  });
  camera.start();
});
</script>

</body>
</html>
